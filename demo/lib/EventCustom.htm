<!DOCTYPE HTML>
<html>
	<head>
		<title>EventCustom</title>
		<script type='text/javascript' src='../../lib/EventCustom.js'></script>
	</head>

	<body>
		<script type='text/javascript'>
			var e = new JOY.EventCustom();
			
			var f1 = function(){
				console.log('f1');
				if(arguments[0]){
					console.log(arguments[0].a);
				}
			};
			
			var f2 = function(){
				console.log('f2');
				if(arguments[0]){
					console.log(arguments[0].b);
				}
			};

			e.on('msg', f1, [{a: 1}]);
			e.on('msg', f1, [{a: 2}]);
			e.on('msg', f2);
			e.on('msg2', f2);

			e.fire(); // f1 1   f1 2   f2   f2
			e.fire('msg'); // f1 1   f1 2   f2 undefined(because 'msg'.b is undefined)
			e.fire({type: 'msg2', b:1}); // f2 1
			e.off('msg');
			e.fire(); // f2
			e.off();
			e.fire();
		</script>
	</body>
</html>
