<!DOCTYPE HTML>
<html>
	<head>
		<title>memoize</title>
		<script type='text/javascript' src='../../util/memoize.js'></script>
	</head>

	<body>
		<script type='text/javascript'>
		      var factorial = function(f, n){
		           return n === 0 ? 1 : n * f(n-1);
		      }
		      
		      var obj = {0:1, 1:1};
		      var fact = JOY.memoize(obj, factorial);
		      fact(6);    // 720
		      console.log(obj);     // {0: 0, 1: 1, 2: 2, 3: 6, 4: 24, 5: 120, 6: 720}
		      
		      
		      var fibonacci = function(f, n){
		        return n < 2 ? n : f(n-1) + f(n-2);
		      }
		      
		      var obj2 = {0: 0, 1: 1};
		      var fib = JOY.memoize(obj2, fibonacci);
		      fib(6);    //8
		      console.log(obj2);    //{0: 0, 1: 1, 2: 1, 3: 2, 4: 3, 5: 5, 6: 8}
		      
		      var obj3 = {0: 'a', '1': 'b'};
		      var f = JOY.memoize(obj2, fibonacci);
		      f(6);   // 'babbababbabba'
		      console.log(obj3);    // {0: "a", 1: "b", 2: "ba", 3: "bab", 4: "babba", 5: "babbabab", 6: "babbababbabba"}
		</script>
	</body>
</html>
